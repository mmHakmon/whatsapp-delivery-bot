<!DOCTYPE html>
<html dir="rtl" lang="he">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>××™×©×•×¨ ××™×¡×•×£ - M.M.H</title>
  <link rel="icon" href="/logo.png">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>* { font-family: system-ui, sans-serif; }</style>
</head>
<body class="min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 text-white flex items-center justify-center p-4">
  <div id="app" class="w-full max-w-md">
    <div class="bg-slate-800 rounded-2xl p-8 text-center">
      <div class="text-6xl mb-4">ğŸ“¦</div>
      <h1 class="text-2xl font-bold mb-2">××™×©×•×¨ ××™×¡×•×£</h1>
      <p class="text-gray-400 mb-6">×”×× ××¡×¤×ª ××ª ×”××©×œ×•×—?</p>
      
      <div class="flex gap-3">
        <button onclick="confirm()" class="flex-1 bg-gradient-to-r from-emerald-500 to-cyan-500 text-white py-4 rounded-xl font-bold">
          âœ… ×›×Ÿ, ××¡×¤×ª×™
        </button>
        <button onclick="window.close()" class="flex-1 bg-slate-700 text-gray-300 py-4 rounded-xl font-bold">
          âŒ ×œ× ×¢×“×™×™×Ÿ
        </button>
      </div>
    </div>
  </div>
  
  <script>
    const orderNumber = window.location.pathname.split('/')[2];
    
    async function confirm() {
      try {
        const res = await fetch('/api/status/' + orderNumber + '/pickup', {
          method: 'POST'
        });
        const result = await res.json();
        
        if (result.success) {
          document.getElementById('app').innerHTML = `
            <div class="bg-slate-800 rounded-2xl p-8 text-center">
              <div class="text-6xl mb-4">âœ…</div>
              <h1 class="text-2xl font-bold text-emerald-400 mb-2">×¡×•××Ÿ ×›× ××¡×£!</h1>
              <p class="text-gray-400">×¤×¨×˜×™ ×”××¡×™×¨×” × ×©×œ×—×• ××œ×™×š ×‘×•×•××˜×¡××¤</p>
            </div>
          `;
        } else {
          alert(result.error || '×©×’×™××”');
        }
      } catch (e) {
        alert('×©×’×™××ª ×ª×§×©×•×¨×ª');
      }
    }
  </script>
</body>
</html>
